version: '3'

includes:
  install: ./install/Taskfile_{{OS}}.yml
  build: ./build/Taskfile_{{OS}}.yml

tasks:
  run:
    desc: "Go run app with dev env"
    cmds:
      - ./sh/run_macos

  run_bin:
    deps: [build:binary]
    desc: "Run app bin with dev env"
    cmds:
      - ./sh/run_macos bin

  test:
    deps: [install:hadolint]
    desc: "Run test"
    cmds:
      - ./sh/test_macos

  stat:
    desc: "Get code statistics"
    cmds:
      - ./sh/stat_macos 